import{c as y,j as e,l as x,S as N,u as w,h as C,L as g,f as k}from"./index-OkmmFMeI.js";import{V as T}from"./ViewLayout-Bnv45DD-.js";import{V as b}from"./ViewStats-BcyeRM-K.js";import{T as L}from"./TaskCard-CWj4oMcv.js";import{f as V}from"./formatters-BjN0d5cq.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=y("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),v={sm:"gap-2",md:"gap-4",lg:"gap-6"},A={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"};function D({items:r,renderItem:i,keyExtractor:o,loading:c=!1,error:n,emptyIcon:l,emptyTitle:a="Aucun élément",emptyMessage:s,emptyAction:m,layout:p="list",columns:j=1,gap:f="md",className:d,itemClassName:h}){return c?e.jsxs("div",{className:x("flex flex-col items-center justify-center py-12",d),children:[e.jsx(q,{className:"w-8 h-8 text-primary animate-spin"}),e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Chargement..."})]}):n?e.jsxs("div",{className:x("flex flex-col items-center justify-center py-12 text-center",d),children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center text-destructive mb-3",children:"⚠️"}),e.jsx("p",{className:"text-sm text-destructive font-medium",children:"Erreur"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n})]}):r.length===0?e.jsxs("div",{className:x("flex flex-col items-center justify-center py-12 text-center",d),children:[l&&e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center text-muted-foreground mb-4",children:l}),e.jsx("p",{className:"text-lg font-medium text-foreground",children:a}),s&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:s}),m&&e.jsx("div",{className:"mt-4",children:m})]}):p==="list"?e.jsx("div",{className:x("flex flex-col",v[f],d),children:r.map((t,u)=>e.jsx("div",{className:h,children:i(t,u)},o(t,u)))}):e.jsx("div",{className:x("grid",A[j],v[f],d),children:r.map((t,u)=>e.jsx("div",{className:h,children:i(t,u)},o(t,u)))})}const S=({tasks:r,variant:i="default",showCategory:o=!0,showDuration:c=!0,showPinned:n=!1,onTaskClick:l,calculateTotalTime:a,loading:s=!1,emptyTitle:m="Aucune tâche",emptyMessage:p="Créez votre première tâche pour commencer",layout:j="list",columns:f=1,gap:d="md",className:h})=>e.jsx(D,{items:r,keyExtractor:t=>t.id,loading:s,emptyIcon:e.jsx(N,{className:"w-8 h-8"}),emptyTitle:m,emptyMessage:p,layout:j,columns:f,gap:d,className:h,renderItem:t=>e.jsx(L,{task:t,variant:i,totalTime:a==null?void 0:a(t),showCategory:o,showDuration:c,showPinned:n,onClick:l?()=>l(t):void 0})}),R=({className:r})=>{const i=w(),{setCurrentView:o}=C(),c=i.tasks.filter(s=>!s.isCompleted),n=i.tasks.filter(s=>s.isCompleted),l=c.reduce((s,m)=>s+m.estimatedTime,0),a=[{id:"active",label:"Tâches actives",value:c.length,icon:e.jsx(g,{className:"w-4 h-4"})},{id:"completed",label:"Terminées",value:n.length,icon:e.jsx(k,{className:"w-4 h-4"})},{id:"time",label:"Temps total",value:V(l),icon:e.jsx(z,{className:"w-4 h-4"})}];return e.jsx(T,{header:{title:"Tâches",subtitle:"Gérez vos tâches quotidiennes",icon:e.jsx(g,{className:"w-5 h-5"})},className:r,children:e.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[e.jsx(b,{stats:a,columns:3}),e.jsx(S,{tasks:c,calculateTotalTime:i.calculateTotalTime,onTaskClick:s=>i.toggleTaskCompletion(s.id),emptyMessage:"Aucune tâche active"})]})})};export{R as default};
